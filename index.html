<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Illuminate | Report Navigator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #1e293b; margin: 0; }
        .chart-container { position: relative; width: 100%; margin: auto; }
        .chart-container-radar { height: 280px; max-width: 350px; }
        .custom-scroll::-webkit-scrollbar { width: 5px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .report-card { transition: transform 0.2s, box-shadow 0.2s; border-left: 4px solid #e2e8f0; }
        .report-card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); border-left-color: #0ea5e9; }
        aside { user-select: none; }
    </style>
    <!-- Chosen Palette: Slate & Sky (Corporate Professional) -->
    <!-- Application Structure Plan: 
         - Logic is driven by the 'mapping' key in the REPORTS object. 
         - If a role ID exists in the mapping, the report is rendered.
         - Optimized for SharePoint embedding.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="h-screen flex flex-col md:flex-row overflow-hidden">

    <!-- Sidebar -->
    <aside class="w-full md:w-72 bg-slate-900 text-slate-300 flex flex-col h-full shadow-xl z-20 flex-shrink-0">
        <div class="p-6 border-b border-slate-800 bg-slate-950">
            <h1 class="text-lg font-bold text-white tracking-tight">Project Illuminate</h1>
            <p class="text-[10px] text-slate-500 mt-1 uppercase tracking-widest">Role-Based Discovery</p>
        </div>

        <div class="p-4 overflow-y-auto flex-grow custom-scroll">
            <div class="mb-6">
                <h3 class="text-[11px] font-bold text-sky-500 uppercase tracking-widest mb-3 px-2">Commercial</h3>
                <div id="commercial-roles-list" class="space-y-1"></div>
            </div>
            <div class="mb-6">
                <h3 class="text-[11px] font-bold text-emerald-500 uppercase tracking-widest mb-3 px-2">Delivery</h3>
                <div id="delivery-roles-list" class="space-y-1"></div>
            </div>
        </div>
        
        <div class="p-4 border-t border-slate-800 text-[10px] text-slate-500 text-center">
            v1.2 | Lifecycle Services
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col h-full overflow-hidden relative">
        <header class="bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center z-10">
            <div>
                <h2 id="current-role-title" class="text-xl font-bold text-slate-800">Report Explorer</h2>
                <p id="current-role-desc" class="text-xs text-slate-500 mt-0.5">Select a role to see mapped reports.</p>
            </div>
            <div id="stats-badge" class="hidden text-xs font-medium text-slate-500 bg-slate-100 px-3 py-1.5 rounded-full border border-slate-200">
                <span id="report-count" class="text-sky-600 font-bold">0</span> Reports for You
            </div>
        </header>

        <div id="dashboard-content" class="flex-1 overflow-y-auto p-4 md:p-8 custom-scroll hidden">
            <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6">
                
                <!-- Left: Analytics -->
                <div class="lg:col-span-4 space-y-6">
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-5">
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">Role Data Profile</h3>
                        <div class="chart-container chart-container-radar">
                            <canvas id="roleRadarChart"></canvas>
                        </div>
                        <div id="role-context-box" class="mt-4 p-3 bg-slate-50 rounded-lg text-xs text-slate-600 italic border-l-2 border-sky-400"></div>
                    </div>

                    <div class="bg-slate-800 rounded-xl shadow-lg p-5 text-white">
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">Core KPIs</h3>
                        <div id="top-kpi-list" class="flex flex-wrap gap-2"></div>
                    </div>
                </div>

                <!-- Right: Reports -->
                <div class="lg:col-span-8">
                    <div class="mb-4 flex items-center justify-between">
                        <h3 class="font-bold text-slate-800">Available Reports</h3>
                        <input type="text" id="report-search" placeholder="Filter..." class="text-xs border border-slate-300 rounded-lg px-3 py-2 w-48 outline-none focus:ring-2 focus:ring-sky-500">
                    </div>
                    <div id="reports-grid" class="space-y-4"></div>
                </div>
            </div>
        </div>

        <div id="empty-state" class="flex-1 flex flex-col items-center justify-center text-center p-12">
            <div class="text-5xl mb-4">üîç</div>
            <h3 class="text-lg font-bold text-slate-700">Select Your Role</h3>
            <p class="text-slate-500 max-w-sm mt-2 text-sm">Pick a job role from the sidebar to view your curated report library.</p>
        </div>
    </main>

    <!-- Modal -->
    <div id="detail-modal" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden">
            <div class="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                <h2 id="modal-title" class="text-xl font-bold text-slate-800">Report Title</h2>
                <button id="close-modal" class="text-slate-400 hover:text-slate-600 text-2xl">&times;</button>
            </div>
            <div class="p-8 overflow-y-auto custom-scroll">
                <div class="mb-8">
                    <h4 class="text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-2">About this Report</h4>
                    <p id="modal-desc" class="text-slate-600 leading-relaxed text-sm"></p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-3">Target KPIs</h4>
                        <div id="modal-kpis" class="space-y-2"></div>
                    </div>
                    <div>
                        <h4 class="text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-3">Role Relevance</h4>
                        <div class="bg-emerald-50 border border-emerald-100 p-4 rounded-xl text-xs text-emerald-800 italic" id="modal-role-reason"></div>
                    </div>
                </div>
            </div>
            <div class="p-6 border-t border-slate-100 bg-white flex flex-col sm:flex-row gap-3 justify-end">
                <button id="modal-close-btn" class="px-6 py-2.5 text-sm font-medium text-slate-600 hover:bg-slate-50 rounded-xl">Close</button>
                <a id="modal-launch-url" href="#" target="_blank" class="px-6 py-2.5 bg-sky-600 hover:bg-sky-700 text-white text-sm font-bold rounded-xl text-center shadow-lg shadow-sky-200">Launch Report ‚Üó</a>
            </div>
        </div>
    </div>

    <script>
        /**
         * MAPPING KEY (Role IDs to use in the 'mapping' objects below):
         * -----------------------------------------------------------
         * Commercial: c_app_consultant, c_comm_manager, c_cust_success, c_prop_consultant, c_sales_spec
         * Delivery: d_clerk, d_consultant, d_digital, d_engineer, d_manager, d_proj_admin, d_proj_manager, d_technician
         */

        const REPORTS = [
            {
                id: "usage",
                title: "Customer Usage Report",
                url: "#", // Paste URL here
                description: "Visualizes interaction with Rockwell services across support and engagement. Useful for resource planning and strategic decision-making.",
                kpis: ["Ticket Volume", "Resolution Time", "Software Downloads"],
                mapping: {
                    'c_cust_success': "Critical for identifying accounts at risk of non-renewal.",
                    'c_sales_spec': "Identifies active users who might need expanded service contracts.",
                    'd_manager': "Helps balance team workload based on regional ticket volume.",
                    'c_comm_manager': "Provides high-level account engagement metrics."
                }
            },
            {
                id: "global_exec",
                title: "Global Executive Summary",
                url: "#", // Paste URL here
                description: "Assesses lifecycle status, inventory gaps, and obsolescence risk. High-level asset health assessment.",
                kpis: ["Inventory Gap Count", "Lifecycle Risk Score"],
                mapping: {
                    'c_comm_manager': "Primary high-level view for executive customer strategy.",
                    'c_sales_spec': "Identifies the largest modernization opportunities.",
                    'c_app_consultant': "Technically baseline for system modernization designs."
                }
            },
            {
                id: "apollo",
                title: "LCS PnP APOLLO - Exception Reporting",
                url: "#", // Paste URL here
                description: "Tracks overdue and upcoming project milestones to manage delivery timelines and risk.",
                kpis: ["Late Milestones", "Upcoming Deadlines"],
                mapping: {
                    'd_proj_manager': "Essential daily dashboard for keeping projects on schedule.",
                    'd_manager': "Identify systemic delivery delays across the team.",
                    'd_engineer': "Keep track of personal technical milestone deadlines.",
                    'd_proj_admin': "Audit milestone data for administrative accuracy."
                }
            }
            // ADD MORE REPORTS HERE FOLLOWING THE SAME STRUCTURE
        ];

        const ROLES = [
            { id: 'c_app_consultant', group: 'Commercial', name: 'Application Consultant', focus: [20, 40, 10, 90], desc: "Focused on technical feasibility and pre-sales solutions." },
            { id: 'c_comm_manager', group: 'Commercial', name: 'Commercial Manager', focus: [80, 20, 90, 10], desc: "Drives business strategy, revenue performance, and lifecycle planning." },
            { id: 'c_cust_success', group: 'Commercial', name: 'Customer Success', focus: [40, 60, 30, 40], desc: "Ensures long-term adoption, satisfaction, and renewal stability." },
            { id: 'c_prop_consultant', group: 'Commercial', name: 'Proposal Consultant', focus: [30, 50, 60, 60], desc: "Structures complex proposals using inventory benchmarks." },
            { id: 'c_sales_spec', group: 'Commercial', name: 'Sales Specialist', focus: [70, 30, 80, 40], desc: "Identifies modernization triggers and growth in territories." },
            { id: 'd_clerk', group: 'Delivery', name: 'Clerk', focus: [0, 90, 50, 10], desc: "Supports admin tasks, transactional reporting, and documentation." },
            { id: 'd_consultant', group: 'Delivery', name: 'Consultant', focus: [40, 60, 20, 80], desc: "Delivers assessments and modernization solutions." },
            { id: 'd_digital', group: 'Delivery', name: 'Digital', focus: [50, 50, 20, 90], desc: "Focuses on delivery and adoption of software and cloud services." },
            { id: 'd_engineer', group: 'Delivery', name: 'Engineer', focus: [10, 80, 10, 100], desc: "Executes technical implementation and hardware/software design." },
            { id: 'd_manager', group: 'Delivery', name: 'Manager', focus: [60, 80, 70, 30], desc: "Oversees team utilization and financial project health." },
            { id: 'd_proj_admin', group: 'Delivery', name: 'Project Administrator', focus: [10, 100, 40, 20], desc: "Ensures milestone accuracy and resource coordination." },
            { id: 'd_proj_manager', group: 'Delivery', name: 'Project Manager', focus: [50, 100, 80, 40], desc: "Owns the project lifecycle, budget, timeline, and risk." },
            { id: 'd_technician', group: 'Delivery', name: 'Technician', focus: [0, 90, 0, 80], desc: "Handles field tasks, repairs, and technical tickets at site." }
        ];

        let activeRole = null;
        let radarChart = null;

        function init() {
            const commDiv = document.getElementById('commercial-roles-list');
            const delDiv = document.getElementById('delivery-roles-list');
            ROLES.forEach(role => {
                const btn = document.createElement('button');
                btn.className = "role-item w-full text-left px-3 py-2 text-xs rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all flex items-center gap-3";
                btn.innerHTML = `<span class="w-1.5 h-1.5 rounded-full ${role.group === 'Commercial' ? 'bg-sky-500' : 'bg-emerald-500'}"></span> ${role.name}`;
                btn.onclick = () => selectRole(role);
                if(role.group === 'Commercial') commDiv.appendChild(btn);
                else delDiv.appendChild(btn);
            });
            document.getElementById('report-search').oninput = (e) => renderMappedReports(e.target.value);
            document.getElementById('close-modal').onclick = closeModal;
            document.getElementById('modal-close-btn').onclick = closeModal;
        }

        function selectRole(role) {
            activeRole = role;
            document.getElementById('empty-state').classList.add('hidden');
            document.getElementById('dashboard-content').classList.remove('hidden');
            document.getElementById('stats-badge').classList.remove('hidden');
            document.getElementById('current-role-title').innerText = role.name;
            document.getElementById('current-role-desc').innerText = `${role.group} Focused Data Tools`;
            document.getElementById('role-context-box').innerText = role.desc;
            updateChart(role.focus);
            renderMappedReports();
            document.querySelectorAll('.role-item').forEach(el => {
                el.classList.toggle('bg-slate-800', el.innerText.includes(role.name));
                el.classList.toggle('text-white', el.innerText.includes(role.name));
            });
        }

        function renderMappedReports(search = "") {
            const grid = document.getElementById('reports-grid');
            grid.innerHTML = "";
            const filtered = REPORTS.filter(r => r.mapping[activeRole.id] && r.title.toLowerCase().includes(search.toLowerCase()));
            document.getElementById('report-count').innerText = filtered.length;
            filtered.forEach(report => {
                const card = document.createElement('div');
                card.className = "bg-white border border-slate-200 rounded-xl p-5 report-card flex flex-col md:flex-row gap-4 items-start md:items-center justify-between";
                card.innerHTML = `
                    <div class="flex-1">
                        <h4 class="font-bold text-slate-800 text-sm mb-1">${report.title}</h4>
                        <p class="text-xs text-slate-500 line-clamp-1">${report.description}</p>
                    </div>
                    <div class="flex gap-2 w-full md:w-auto">
                        <button onclick="openModal('${report.id}')" class="flex-1 md:flex-none px-4 py-2 text-xs font-semibold text-slate-600 border border-slate-200 rounded-lg hover:bg-slate-50">Details</button>
                        <a href="${report.url}" target="_blank" class="flex-1 md:flex-none px-4 py-2 text-xs font-bold text-white bg-sky-600 rounded-lg text-center">Launch ‚Üó</a>
                    </div>
                `;
                grid.appendChild(card);
            });
            const kpiList = document.getElementById('top-kpi-list');
            kpiList.innerHTML = "";
            const uniqueKpis = [...new Set(filtered.flatMap(r => r.kpis))].slice(0, 8);
            uniqueKpis.forEach(k => {
                const span = document.createElement('span');
                span.className = "px-2 py-1 bg-slate-700 text-[10px] rounded-md border border-slate-600";
                span.innerText = k;
                kpiList.appendChild(span);
            });
        }

        function updateChart(data) {
            const ctx = document.getElementById('roleRadarChart');
            if(radarChart) radarChart.destroy();
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Strategic', 'Operational', 'Financial', 'Technical'],
                    datasets: [{ data: data, backgroundColor: 'rgba(14, 165, 233, 0.2)', borderColor: '#0ea5e9', borderWidth: 2, pointRadius: 3 }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { r: { min: 0, max: 100, ticks: { display: false }, pointLabels: { font: { size: 9 } } } }
                }
            });
        }

        function openModal(id) {
            const r = REPORTS.find(report => report.id === id);
            document.getElementById('modal-title').innerText = r.title;
            document.getElementById('modal-desc').innerText = r.description;
            document.getElementById('modal-role-reason').innerText = `"${r.mapping[activeRole.id]}"`;
            document.getElementById('modal-launch-url').href = r.url;
            const kpis = document.getElementById('modal-kpis');
            kpis.innerHTML = "";
            r.kpis.forEach(k => { kpis.innerHTML += `<div class="flex items-center gap-2 text-xs text-slate-600"><span class="text-sky-500">‚óè</span> ${k}</div>`; });
            document.getElementById('detail-modal').classList.remove('hidden');
        }

        function closeModal() { document.getElementById('detail-modal').classList.add('hidden'); }
        window.onload = init;
    </script>
</body>
</html>